{% assign collection = collections['all'] %}

<div class="main-border">
  {%- paginate collection.products by 5 -%}
  <div class="top-menu">
    <div class="top-menu-right">
      <h1 class="title">{{ collection.title }}</h1>
      <div class="top-menu-right">
        {%- if paginate.pages > 1 -%}
          <nav role="navigation">
            <ol class="pagination">
              {%- if paginate.previous-%}
                <li>
                  <a href="{{ paginate.previous.url }}">
                    <span aria-hidden="true">&laquo;</span>
                    Previous <span class="visuallyhidden">page</span>
                  </a>
                </li>
              {%- else -%}
                <li class="disabled">
                  <span aria-hidden="true">&laquo;</span>
                  Previous <span class="visuallyhidden">page</span>
                </li>
              {%- endif -%}

              {%- for part in paginate.parts -%}
                {%- if part.is_link -%}
                  <li>
                    <a href="{{ part.url }}">
                      <span class="visuallyhidden">page</span> {{ part.title }}
                    </a>
                  </li>
                {%- else -%}
                  {%- if part.title == paginate.current_page -%}
                    <li class="active" aria-current="page">
                      <span class="visuallyhidden">page</span> {{ part.title }}
                    </li>
                  {%- else -%}
                    <li>
                      <span class="visuallyhidden">page</span> {{ part.title }}
                    </li>
                  {%- endif -%}
                {%- endif -%}
              {%- endfor -%}

              {%- if paginate.next -%}
                <li>
                  <a href="{{ paginate.next.url }}">
                    Next <span class="visuallyhidden">page</span>
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
              {%- else -%}
                <li class="disabled">
                  Next <span class="visuallyhidden">page</span>
                  <span aria-hidden="true">&raquo;</span>
                </li>
              {%- endif -%}
            </ol>
          </nav>
        {%- endif -%}
          <a href="{{ paginate.previous.url }}">
            <div class="button">BACK</div>
          </a>
          <a href="{{ paginate.next.url }}">
            <div class="button">NEXT</div>
          </a>
          {%- endpaginate -%}
      </div>
    </div>
    <div class="top-menu-left">
      <div class="button">
        <a>CART</a>
      </div>
      <select id="currency" class="button">
        <option value="IDR">IDR</option>
        <option value="USD">USD</option>
      </select>
    </div>
  </div>
  
  <div class="bar">
    <div class="left-bar">
        <nav role="navigation">
            {%- for link in linklists.main-menu.links -%}
              <div class="widget-left-bar">
                <a href="{{ link.url }}" {% if link.active %}aria-current="page"{% endif %}>
                  <h2>{{ link.title }}</h2>
                </a>
                {%- if link.links != blank -%}
                  <ul>
                    {%- for child_link in link.links -%}
                      <li>
                        <a{% if child_link.active %}aria-current="page"{% endif %}>
                          {{ child_link.title }}
                        </a>
                        {%- if child_link.links != blank -%}
                          <ul>
                            {%- for grandchild_link in child_link.links -%}
                              <li>
                                <a href="{{ grandchild_link.url }}" {% if grandchild_link.active %}aria-current="page"{% endif %}>
                                  {{ grandchild_link.title }}
                                </a>
                              </li>
                            {%- endfor -%}
                          </ul>
                        {%- endif -%}
                      </li>
                    {%- endfor -%}
                  </ul>
                {%- endif -%}
              </div>
            {%- endfor -%}
        </nav>
    </div>
    <div class="right-bar">
        <ul>
          {% for product in collection.products %}
            <li class="border">
              <a href="{{ product.url }}">
                <img src="{{ product.featured_image | img_url: '200x', crop: 'center' }}">
                <p class="text-product">
                  <br>
                  {{ product.title }}
                  <br>
                  {{ product.price | money }}
                  {% if product.available != true %}
                    <br>(SOLD OUT)
                  {% endif %}
                </p>
              </a>
            </li>
          {% endfor %}
        </ul>
    </div>
  </div>
  <div class="pagination">
    <div class="page-number">{{ paginate | default_pagination: next: ' ', previous: ' ' }}</div>
  </div>
  {%- endpaginate -%}
</div>