{% assign collection = collections['all'] %}
{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

<img class="product-single__logo" src="{{ 'logo2.jpg' | asset_img_url: '120x' }}">

<div class="minicart">

</div>

<div class="gap-main-border">
  <div class="main-border">
    <div class="top-menu">
      <div class="top-menu-right">
        <h1 class="title">{{ collection.title }}
        </h1>
      </div>
      <div class="top-menu-left">
        <div class="top-menu-content">
          <a href="{{ paginate.previous.url }}">
            <div class="button">BACK</div>
          </a>
          <a href="{{ paginate.next.url }}">
            <div class="button">NEXT</div>
          </a>
        </div>
        <div class="top-menu-content">
          <div class="button">
            <a>CART</a>
          </div>
          <select id="currency" class="button">
            <option value="IDR">IDR</option>
            <option value="USD">USD</option>
          </select>
        </div>
      </div>
    </div>
    <div class="bar">
      <div class="left-bar">
          <nav role="navigation">
              {%- for link in linklists.main-menu.links -%}
                <div class="widget-left-bar">
                  <a href="{{ link.url }}" {% if link.active %}aria-current="page"{% endif %}>
                    <h2>{{ link.title }}</h2>
                  </a>
                  {%- if link.links != blank -%}
                    <ul>
                      {%- for child_link in link.links -%}
                        <li>
                          <a{% if child_link.active %}aria-current="page"{% endif %}>
                            {{ child_link.title }}
                          </a>
                          {%- if child_link.links != blank -%}
                            <ul>
                              {%- for grandchild_link in child_link.links -%}
                                <li>
                                  <a href="{{ grandchild_link.url }}" {% if grandchild_link.active %}aria-current="page"{% endif %}>
                                    {{ grandchild_link.title }}
                                  </a>
                                </li>
                              {%- endfor -%}
                            </ul>
                          {%- endif -%}
                        </li>
                      {%- endfor -%}
                    </ul>
                  {%- endif -%}
                </div>
              {%- endfor -%}
          </nav>
      </div>
      <div class="right-bar border">
        <div class="flex">
          <div class="sub-left-bar">
            <div class="gap-1">
              <img src="{{ featured_image | img_url: 'large' }}" alt="{{ featured_image.alt | escape }}" id="ProductPhotoImg">
              {% for image in product.images %}
                <a href="{{ image.src | img_url: 'large' }}">
                  <img src="{{ image.src | img_url: 'compact' }}" alt="{{ image.alt | escape }}" id="SubProductPhotoImg">
                </a>
              {% endfor %}
            </div>
          </div>
          <div class="sub-right-bar">
            <div class="gap-1">
              <h1>{{ product.title }}</h1>
              <h1>{{ current_variant.price | money }}</h1>
              <div>{{ product.description }}</div>

              <form>
                {% for product_option in product.options_with_values %}
                  {{ product_option.name }}
                  <div class="product-option">
                    {% for value in product_option.values %}
                      <div class="product-variant">
                        <input type="radio" id = "{{ value }}" name="{{ product_option.name}}" value="{{ value }}" class="hide">
                        <label for="{{ value }}">{{ value }}</label>
                      </div>
                    {% endfor %}
                  </div>
                  <br>
                {% endfor %}
                <!--need to show the price here-->
                <input type="number" min="1">
                <button type="submit" id="AddToCart">Add to Cart</button>
              </form>

              {%- comment -%} <form action="/cart/add" method="post" enctype="multipart/form-data" id="AddToCartForm">
                <select name="id" id="productSelect">
                  {% for variant in product.variants %}
                    {% if variant.available %}
                      <input type="button" value="{{ variant.id }}">
                        {{ variant.title }}
                      </input>
                    {% else %}
                      <input type="button" disabled="disabled">
                        {{ variant.title }}
                      </input>
                    {% endif %}
                  {% endfor %}
                </select>
                
                <label for="Quantity">quantity</label>
                <input type="number" id="Quantity" name="quantity" value="1" min="1">
                <button type="submit" name="add" id="AddToCart">ADD TO CART</button>
              </form> {%- endcomment -%}

              {%- comment -%} == Now ==  {%- endcomment -%}
              {%- comment -%} <form action="/cart/add" method="post" enctype="multipart/form-data" id="AddToCartForm">
                <div class="product-option">
                  {% for variant in product.variants %}
                    <div class="product-variant">
                      {% if variant.available %}
                        <span value="{{ variant.id  }}">{{ variant.title }}</span>
                      {% else %}
                        <span disabled="disabled">{{ variant.title }}</span>
                      {% endif %}
                    </div>
                  {% endfor %}
                </div>
                <button type="submit" name="add" id="AddToCart">ADD TO CART</button>
              </form> {%- endcomment -%}

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
